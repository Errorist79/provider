{ "dashboard": { "annotations": {}, "editable": true, "fiscalYearStartMonth": 1, "graphTooltip": 0, "links": [], "liveNow": false, "panels": [ { "datasource": { "type": "prometheus", "uid": "Prometheus" }, "fieldConfig": { "defaults": { "unit": "reqps" }, "overrides": [] }, "gridPos": { "h": 9, "w": 12, "x": 0, "y": 0 }, "id": 1, "options": { "legend": { "displayMode": "list", "placement": "bottom" }, "tooltip": { "mode": "multi" } }, "targets": [ { "expr": "sum by (consumer) (rate(kong_http_requests_total[1m]))", "legendFormat": "{{consumer}}", "refId": "A" } ], "title": "RPS by Consumer", "type": "timeseries" }, { "datasource": { "type": "prometheus", "uid": "Prometheus" }, "fieldConfig": { "defaults": { "unit": "percentunit" }, "overrides": [] }, "gridPos": { "h": 9, "w": 12, "x": 12, "y": 0 }, "id": 2, "options": { "legend": { "displayMode": "list", "placement": "bottom" }, "tooltip": { "mode": "multi" } }, "targets": [ { "expr": "sum by (consumer) (rate(kong_http_requests_total{code=~\"2..\"}[5m])) / sum by (consumer) (rate(kong_http_requests_total[5m]))", "legendFormat": "{{consumer}}", "refId": "A" } ], "title": "2xx Ratio by Consumer", "type": "timeseries" }, { "datasource": { "type": "prometheus", "uid": "Prometheus" }, "fieldConfig": { "defaults": { "unit": "Bps" }, "overrides": [] }, "gridPos": { "h": 9, "w": 12, "x": 0, "y": 9 }, "id": 3, "options": { "legend": { "displayMode": "list", "placement": "bottom" }, "tooltip": { "mode": "multi" } }, "targets": [ { "expr": "sum by (consumer, direction) (rate(kong_bandwidth_bytes[1m]))", "legendFormat": "{{consumer}} {{direction}}", "refId": "A" } ], "title": "Bandwidth by Consumer", "type": "timeseries" }, { "datasource": { "type": "prometheus", "uid": "Prometheus" }, "gridPos": { "h": 9, "w": 12, "x": 12, "y": 9 }, "id": 4, "options": { "legend": { "displayMode": "list", "placement": "bottom" }, "tooltip": { "mode": "multi" } }, "targets": [ { "expr": "topk(10, sum by (method) (rate(kong_rpc_requests_total[5m])))", "legendFormat": "{{method}}", "refId": "A" } ], "title": "Top Methods", "type": "timeseries" } ], "refresh": "10s", "schemaVersion": 39, "style": "dark", "tags": ["kong","rpc","usage"], "templating": { "list": [] }, "time": { "from": "now-6h", "to": "now" }, "timepicker": {}, "timezone": "", "title": "Kong RPC Usage Analytics", "uid": "kong-rpc-usage", "version": 1, "weekStart": "" }, "overwrite": true, "folderId": 0 }
